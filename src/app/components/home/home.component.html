<app-slider></app-slider>
<!-- Custom component selector references to <app-slider> component -->
<app-category-slider></app-category-slider>

<div class="container my-5">
    <div class="row">
        @for (product of allProducts; track $index) {
        <!-- Iterate through the <allProducts> array and track products using the current index -->
        <div class="col-md-2">
        <!-- Creates a grid layout with two columns per row on medium screens and adjusts for other screen sizes -->
            <div class="product p-2">
                <div [routerLink]="'/details/'+product._id">
                    <!-- Defines a link that, when clicked, will navigate to a route with the path </details/{product._id}>, where <{product._id}> is replaced with the product's ID -->
                    <img [src]="product.imageCover" class="w-100" alt="">
                    <!-- Binds the image source dynamically using Angular's property binding -->
                    <!-- Setting the source to the <imageCover> property of the current product in the loop -->
                    <h6 class="text-main">{{product.category.name}}</h6>
                    <!-- Text interpolation is used to display the <product.category.name> property of the current product in the loop -->
                    <h5 class="fw-bold">{{product.title.split(' ').slice(0,2).join(' ')}}...</h5>
                    <!-- Text interpolation is used to display the <product.title> property of the current product in the loop -->
                    <!-- <ptoduct.title> is splitted into an array of words, then the first two words of the split array are taken to be joined back with spaces -->
                    <div class="d-flex justify-content-between">
                        <!-- Creates a flexbox container element with classes for horizontal alignment and space-between justification -->
                        <span>{{product.price}} EGP</span>
                        <!-- Text interpolation is used to display the <product.price> property of the current product in the loop -->
                        <span>
                            <i class="fa-solid fa-star rating-color"></i> <!-- Fontawesome's Star Icon -->
                            {{product.ratingsAverage}}
                            <!-- Text interpolation is used to display the <product.ratingsAverage> property of the current product in the loop -->
                        </span>
                    </div>
                </div>
                <button class="btn bg-main text-white w-100 my-2">Add to Cart</button>
            </div>
        </div>
        }
    </div>
</div>